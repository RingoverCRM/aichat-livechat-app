/*! Ringover AI Chat SDK v1.0.0 Build time: 10-14-2024 14:41:01 */
function log(...t){window.origin.includes("localhost")&&console.log(t)}let ENV={PRODUCTION:"production",STAGING:"staging",DEV:"dev"},IFRAME_SRC_MAP={[ENV.PRODUCTION]:"https://ai-chat-livechat-dot-aichat-408808.ey.r.appspot.com",[ENV.STAGING]:"https://ai-chat-livechat-dot-aichat-408808.ey.r.appspot.com",[ENV.DEV]:"https://ai-chat-livechat-dev-dot-aichat-408808.ey.r.appspot.com"};class AIChatSDK{isIframePresent=!1;isReady=!1;MESSAGE_TYPES={IS_READY:"is_ready",IS_CHATBOX_OPEN:"is_chatbox_open",SET_STYLES:"set_styles",URL_CHANGED:"url_changed"};CLOSED_CHAT_WIDTH="50px";CLOSED_CHAT_HEIGHT="50px";OPEN_CHAT_WIDTH="350px";OPEN_CHAT_HEIGHT="555px";constructor(t,i){if(!this.isIframePresent){var s=document.createElement("IFRAME"),a=i?.env||ENV.PRODUCTION;let e=i?.iframe_url||IFRAME_SRC_MAP[a];s.src=e+"?agent_id="+t,this.iframe=s,document.body.appendChild(this.iframe),this.isIframePresent=!0,this.setStyles(i);window.addEventListener("message",t=>{t.origin===e&&(log("MESSAGE FROM IFRAME",t.data),t.data?.type===this.MESSAGE_TYPES.IS_READY?this.isReady=!0:t.data?.type===this.MESSAGE_TYPES.IS_CHATBOX_OPEN&&(t.data.data?(this.iframe.style.width=this.OPEN_CHAT_WIDTH,this.iframe.style.height=this.OPEN_CHAT_HEIGHT,this.iframe.style.boxShadow="rgba(41, 43, 88, 0.2) 5.10258px 0.2052px 51.0258px"):(this.iframe.style.width=this.CLOSED_CHAT_WIDTH,this.iframe.style.height=this.CLOSED_CHAT_HEIGHT,this.iframe.style.boxShadow="none")))}),this.trackUrlChanges()}}sendMessage(t){this.iframe.contentWindow.postMessage(t,"*")}setStyles(t){this.iframe.frameBorder="0",this.iframe.style.width=t?.bubbleSize||"50px",this.iframe.style.height=t?.bubbleSize||"50px",this.iframe.style.border="none",this.iframe.style.position="fixed",this.iframe.style.bottom=t?.bottom||"40px",this.iframe.style.left=t?.left||null,this.iframe.style.right=t?.right||"40px",this.iframe.style.top=t?.top||null,this.iframe.style.zIndex=t?.zIndex||1e3,this.iframe.style.borderRadius="15px",this.sendMessage({type:this.MESSAGE_TYPES.SET_STYLES,data:t})}trackUrlChanges(){let e=()=>{var t=window.location.href;this.sendMessage({type:this.MESSAGE_TYPES.URL_CHANGED,url:t})},i=history.pushState,s=history.replaceState;history.pushState=(...t)=>{i.apply(history,t),e()},history.replaceState=(...t)=>{s.apply(history,t),e()},window.addEventListener("popstate",e),e()}}window.AIChatSDK=AIChatSDK;
